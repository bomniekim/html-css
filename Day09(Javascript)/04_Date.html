<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Date</title>

    <script>
        // 내장된 생성자 함수(class): Date, Number, String, Math, Array 등

        // 1. Date
        var a= new Date(); // 현재 날짜와 시간을 가지고 있는 객체
        document.write(a+"<br>"); // 자동 toString()
        document.write(typeof(a)+"<br>"); // 모든 객체의 자료형은 object

        // 주요기능들(메소드)
        document.write(a.toDateString()+"<br>"); // 날짜만
        document.write(a.toLocaleString()+"<br>"); // 한국어로!
        document.write(a.getYear()+"<br>"); // 119 (1900년을 기준)
        document.write(a.getFullYear()+"<br>"); // 2019
        
        document.write(a.getMonth()+"<br>"); // 0~11
        document.write(a.getDate()+"<br>"); 
        document.write(a.getHours()+"<br>"); // 0~23
        document.write(a.getMinutes()+"<br>"); 
        document.write(a.getSeconds()+"<br>"); 
        document.write(a.getTime()+"<br>"); 
        // currentTimeMilis(): 1970/01/01 09:00 기준, 프로그램 성능 테스트시 주로 사용

        document.write("<br>"); 

        //setting도 가능함
        var b= new Date(); 
        document.write(b.toLocaleString()+"<br>");
        b.setFullYear(2018);
        document.write(b.toLocaleString()+"<br>");

        // 생성자의 파라미터로 특정 날짜 지정 가능
        var c= new Date(2025, 2, 31); // 2025/05/21
        document.write(c.toLocaleString()+"<br>");

        var c= new Date("Fri Mar 31 1993 13:21:09 GMT+0900");
        document.write(c.toLocaleString()+"<br>");

        var c= new Date("Fri Mar 31 1993");
        document.write(c.toLocaleString()+"<br>");

        var c= new Date("2019. 3. 31");
        document.write(c.toLocaleString()+"<br>");

        var c= new Date("0"); // 밀리세컨드 시간
        document.write(c.toLocaleString()+"<br>");

        // 두 날짜의 차이 비교
        var a= new Date("2018. 12. 13");
        var b= new Date();
        var diff= b.getTime()- a.getTime();
        diff= b-a; // 이렇게 써도 자동으로 getTime()의 결과로 연산함


        document.write("두 날짜의 차이: "+diff+"<br>");

        var sec=diff/1000; // millisec. to sec.
        var min= sec/60; // sec. to minute
        var hr= min/60; // minute to hour
        var day=hr/24; // hour to day


        // 한번에 연산
        day= diff/(1000*60*60*24);
        document.write("두 날짜의 일수 차이: "+day+"<br>");

        // 소수점 제거
        day= Math.floor(day);
        document.write("두 날짜의 일수 차이: "+day+"<br>");



        // 기준일을 계산하는 웹 페이지 
        function clickBtn(){
            // 입력된 날짜 얻어오기
            var e= document.getElementById('date');
            var s= e.value;
            document.write(s+"<br>");

            var a= new Date(s); // 입력된 날짜로 Date() 객체 생성
            var b= new Date(); // 현재

            // 입력된 날짜와 현재 날짜의 차이 계산
            var diff=b-a;
            day=Math.floor(diff/(1000*60*60*24)); // 내림(소수점을 버려라)


            if(day>0) 
            document.write('오늘로부터: '+day+"일 전입니다.<br>");
            else if(day<0)
            document.write('오늘로부터: '+(-day)+"일 뒤입니다.<br>");
            else 
            document.write("오늘입니다.<br>");
        }



        // 디지털 시계: 1초마다 현재 시간을 출력
        function showTime(){

            var s= new Date();
            var e=document.getElementById('time');
            e.value=s.toLocaleString();

            // 행운의 편지 시스템 (1초마다 showTime()을 실행하라)
            setTimeout('showTime(), 1000'); // JS에 이미 존재하는 함수
        }
    
    </script>
</head>
<body>
    <hr>
    <input type="date" id="date">
    <button onclick="clickBtn()">기준일 입력</button>

    <hr>
    <h4>Digital Clock</h4>
    <button onclick="showTime()">show time</button>
    <input type="text" id="time" size="30" readonly>
    
</body>
</html>